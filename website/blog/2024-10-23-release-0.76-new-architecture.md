---
ia-translated: true
title: 'React Native 0.76 - New Architecture por padrão, React Native DevTools e muito mais'
authors: [blakef, cipolleschi, frankcalise, gabrieldonadel]
tags: [announcement, release]
date: 2024-10-23T16:00
---

Hoje estamos animados em lançar o React Native 0.76!

Este é um marco importante para o React Native, pois estamos habilitando a New Architecture por padrão, e estamos introduzindo o React Native DevTools. Este tem sido o resultado de 6 anos de trabalho árduo da nossa equipe, juntamente com o apoio da nossa incrível comunidade de desenvolvedores.

### Destaques

- [React Native New Architecture por padrão](/blog/2024/10/23/release-0.76-new-architecture#react-native-new-architecture-by-default)
- [React Native DevTools](/blog/2024/10/23/release-0.76-new-architecture#react-native-devtools)
- [Resolução mais rápida do Metro](#faster-metro-resolution)
- [Propriedades de estilo Box Shadow e Filter](/blog/2024/10/23/release-0.76-new-architecture#box-shadow-and-filter-style-props)

### Breaking Changes

- [Removida a dependência do react-native-community/cli](/blog/2024/10/23/release-0.76-new-architecture#removed-the-dependency-on-the-react-native-communitycli)
- [Aplicativos Android são ~3.8Mb menores graças à fusão de bibliotecas nativas](/blog/2024/10/23/release-0.76-new-architecture#android-apps-are-38mb-smaller-thanks-to-native-library-merging)
- [Atualizações dos requisitos mínimos de SDK para iOS e Android](/blog/2024/10/23/release-0.76-new-architecture#updates-to-minimum-ios-and-android-sdk-requirements)

<!--truncate-->

## Destaques

### React Native New Architecture por padrão

A partir do React Native 0.76, a New Architecture está habilitada por padrão em seus projetos. A New Architecture é uma reescrita dos componentes internos do React Native para permitir que desenvolvedores de aplicativos desenvolvam aplicações nativas de alta qualidade usando React.

Hoje, estamos animados em declarar que a New Architecture está pronta para uso em produção.

Esta mudança é um marco na evolução do React Native, e convidamos você a ler o post dedicado para entender o que está incluído na New Architecture e como ela moldará o futuro do React Native: [A New Architecture está aqui](/blog/2024/10/23/the-new-architecture-is-here).

### React Native DevTools

![React Native DevTools front-end](../static/blog/assets/0.76-react-native-devtools.jpg)

Estamos lançando a primeira versão estável do React Native DevTools, nossa nova experiência de depuração padrão.

Queremos que as ferramentas que você usa para depurar React em todas as plataformas sejam confiáveis, familiares, simples e coesas. O React Native DevTools cumpre esses princípios — ferramentas de desenvolvedor alinhadas com navegadores que são profundamente integradas com o React Native. Os principais recursos incluem:

- **Ferramentas familiares, alinhadas com a web** — Um debugger completo baseado no Chrome DevTools com breakpoints confiáveis, valores de observação, depuração passo a passo, inspeção de pilha e um console JavaScript rico. Esses recursos principais agora funcionam de forma confiável e entre recarregamentos.
- **React DevTools melhorado e integrado** — O React Components Inspector e Profiler integrados funcionam perfeitamente, com destaque de componentes mais rápido e confiável.
- **UX melhorada** — Veja uma nova sobreposição _Pausado no Debugger_, deixando claro quando seu aplicativo está pausado em um breakpoint. Avisos no LogBox agora são exibidos como um resumo e ocultados quando o DevTools está conectado.
- **Comportamento de reconexão corrigido** — Breakpoints JavaScript agora funcionam de forma confiável entre recarregamentos e quando o DevTools é desconectado e reconectado. O DevTools pode até mesmo reconectar ao mesmo aplicativo após uma reconstrução nativa.
- **Inicialização instantânea** — O React Native DevTools está pronto por padrão com configuração zero. Abra-o no menu Dev do aplicativo ou via <kbd>j</kbd> para depurar no servidor CLI, que agora suporta múltiplos emuladores e dispositivos.

O React Native DevTools é fundamentalmente diferente de nossas opções de depuração anteriores, incluindo ser diferente da experiência do Experimental Debugger lançada pela primeira vez na versão 0.73. Ele muda para uma nova pilha de depuração de backend que reconstruímos durante o último ano. Isso significa que a compatibilidade com ferramentas anteriores [mudou](https://github.com/react-native-community/discussions-and-proposals/discussions/819#:~:text=announcement%20talk%20%F0%9F%8E%AC.-,Compatibility,-React%20Native%20DevTools), e você também deve esperar uma experiência muito mais confiável de ponta a ponta. Pretendemos construir sobre essa nova pilha para nos permitir implementar de forma confiável mais recursos no futuro, como os painéis Performance e Network.

#### Descontinuando logs no Metro

Em nosso próximo lançamento, estamos removendo logs encaminhados no Metro para alinhar com as ferramentas modernas de navegador e remover integrações de depuração antigas. Em vez disso, use o painel Console completo do React Native DevTools para registro. Veja mais em nossas [Perguntas Frequentes](https://github.com/react-native-community/discussions-and-proposals/discussions/819#:~:text=point%20is%20deprecated.-,FAQs,-React%20Native%20DevTools).

**Links**

- [Documentação de depuração atualizada](/docs/debugging)
- [Palestra de anúncio na React Universe Conf](https://www.youtube.com/watch?v=OwivVpg6Luc)
- [Thread de feedback e Perguntas Frequentes](https://github.com/react-native-community/discussions-and-proposals/discussions/819)

### Resolução mais rápida do Metro

Implementamos várias melhorias de desempenho no resolver do Metro, o componente responsável por encontrar um módulo a partir de um caminho de importação, tornando-o cerca de [15x mais rápido](https://x.com/MetroBundler/status/1831709057670861260). Isso melhora o desempenho geral do Metro, particularmente para builds quentes, que observamos cerca de 4x mais rápidos.

<div class="tweet">
    <iframe style={{ "border": "none" }} scrolling="no" width="550" height="870" data-tweet-url="https://twitter.com/MetroBundler/status/1831709057670861260" src="data:text/html;charset=utf-8,%3Cblockquote%20class%3D%22twitter-tweet%22%3E%3Cp%20lang%3D%22en%22%20dir%3D%22ltr%22%3EFaster%20resolution%2C%20faster%20builds%3Cbr%3E%3Cbr%3EYesterday%26%2339%3Bs%20Metro%20release%20included%20a%20bunch%20of%20performance%20improvements%20to%20our%20resolver%2C%20making%20it%20around%2015x%20faster.%20That%26%2339%3Bs%20especially%20good%20news%20for%20warm%20builds.%20%3Ca%20href%3D%22https%3A//t.co/huPD5CW5bu%22%3Epic.twitter.com/huPD5CW5bu%3C/a%3E%3C/p%3E%26mdash%3B%20Metro%20%28@MetroBundler%29%20%3Ca%20href%3D%22https%3A//twitter.com/MetroBundler/status/1831709057670861260%3Fref_src%3Dtwsrc%255Etfw%22%3ESeptember%205%2C%202024%3C/a%3E%3C/blockquote%3E%0A%3Cscript%20async%20src%3D%22https%3A//platform.twitter.com/widgets.js%22%20charset%3D%22utf-8%22%3E%3C/script%3E%0A%0A"></iframe>
</div>

### Propriedades de estilo Box Shadow e Filter

Adicionamos duas propriedades de estilo exclusivas da New Architecture na versão 0.76 - `boxShadow` e `filter`. Ambas as propriedades existem na web, e a equipe se atém às especificações sempre que possível para que essas propriedades sejam previsíveis, familiares e, em última análise, mais fáceis de adotar (consulte as seções de limitações e desvios de especificação para as exceções).
Como resultado, você pode consultar a documentação web para entender completamente como elas funcionam, mas há algumas diferenças importantes que são observadas abaixo.

#### `boxShadow`

`boxShadow` adiciona uma sombra a um elemento, com a capacidade de controlar a posição, cor, tamanho e desfoque da sombra. Confira a [documentação MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/box-shadow) para uma visão geral completa de cada um desses argumentos, juntamente com um fiddle para experimentá-los você mesmo. Abaixo estão alguns exemplos das sombras que você pode criar.

![Propriedade de estilo boxShadow nova](../static/blog/assets/0.76-boxshadow-example.png)

`boxShadow` pode receber uma string, que imita a sintaxe CSS, ou objetos JS que podem incorporar variáveis. Por exemplo, a string `'5 5 5 0 rgba(255, 0, 0, 0.5)'` e o objeto `{offsetX: 5, offsetY: 5, blurRadius: 5, spreadDistance: 0, color: 'rgba(255, 0, 0, 0.5)'}` produziriam a mesma box shadow.

A [funcionalidade de sombra anterior](https://reactnative.dev/docs/shadow-props) tinha algumas deficiências agora resolvidas pelo `boxShadow`:

- Não funciona no Android
- Não pode ser [inset](https://developer.mozilla.org/en-US/docs/Web/CSS/box-shadow#inset)
- Não tem [spread](https://developer.mozilla.org/en-US/docs/Web/CSS/box-shadow#length)
- Não funciona em `View`s se não houver cor de fundo
- É uma propriedade separada, então não pode compartilhar a mesma sintaxe web

#### Limitações e Desvios de Especificação

- A cor de sombra padrão é preta, não a cor do pai
- Sombras normais do Android são suportadas no **Android 9+**
- Sombras inset do Android são suportadas no **Android 10+**

#### `filter`

`filter` adiciona certos filtros gráficos a um elemento. Existem uma mistura de filtros de cor que permitem modificar coisas como brilho, saturação e matiz, bem como filtros não-cor que permitem adicionar desfoque e sombras. Confira a [documentação MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/filter) para uma visão geral completa de cada função de filtro individual, juntamente com um fiddle para experimentá-las você mesmo. Abaixo está uma imagem de cachorro-quente com vários filtros aplicados a ela.

<figure>
    <img alt="Demonstração de filtros" src="/blog/assets/0.76-filter-example.png" />
    <figcaption>Da esquerda para a direita: sem filtro, filtro <code>saturate</code>, filtro <code>blur</code>, filtro <code>invert</code></figcaption>
</figure>

Como `boxShadow`, `filter` pode receber uma string, que imita a sintaxe CSS, ou um array de objetos JS que podem incorporar variáveis. Por exemplo, a string `'saturate(0.5) grayscale(0.25)'` e o array `[{saturate: 0.5}, {grayscale: 0.25}]` produziriam o mesmo filtro.
`filter` tem um valor `dropShadow` que varia ligeiramente de `boxShadow`. A maior diferença é que `dropShadow` é uma máscara alfa - então a sombra só será projetada por um pixel se ele tiver um componente alfa diferente de zero. `boxShadow`, por outro lado, projetará ao redor da border box do elemento, mesmo se não houver nada dentro dele. Além disso, dropShadow não tem um parâmetro de distância de spread e não pode ser inset (sombra projetada dentro do elemento).

#### Limitações e Desvios de Especificação

- `filter` do iOS suporta apenas brightness e opacity
- `filter` do iOS não será aplicado a sombras, contornos ou quaisquer outros elementos gráficos fora dos limites do elemento
- `blur` e `drop-shadow` do Android são suportados apenas no **Android 12+**
- `filter` implica `overflow: hidden`, então os filhos de um elemento com `filter` serão cortados se estiverem posicionados fora dos limites dos pais.

## Breaking Changes

### Removida a dependência do @react-native-community/cli

Como compartilhado anteriormente na versão 0.75, nossa visão é que o React Native seja [framework agnostic](https://github.com/react-native-community/discussions-and-proposals/blob/main/proposals/0759-react-native-frameworks.md). Portanto, concluímos o trabalho para remover @react-native-community/cli como uma dependência direta do React Native.

Desacoplar o React Native do CLI nos permite avançar mais rápido através do lançamento desses projetos de forma independente e separar melhor as responsabilidades de ambos os projetos.

Se você está confiando no CLI em seu fluxo de trabalho diário, certifique-se de adicionar explicitamente [a dependência](https://react-native-community.github.io/upgrade-helper/?from=0.75.4&to=0.76.0#RnDiffApp-package.json) no CLI em seu `package.json`:

```diff
//…
  "devDependencies": {
   // …
+  "@react-native-community/cli": "15.0.0",
+  "@react-native-community/cli-platform-android": "15.0.0",
+  "@react-native-community/cli-platform-ios": "15.0.0",
  },
```

### Aplicativos Android são ~3.8Mb menores graças à fusão de bibliotecas nativas

O React Native 0.76 será lançado com um número reduzido de bibliotecas nativas, pois mesclamos muito do nosso código nativo em uma única biblioteca chamada `libreactnative.so`.

Esta mudança vem com redução no tamanho do aplicativo e melhoria no desempenho de inicialização do aplicativo no Android. A partir de nossos benchmarks, descobrimos que o tamanho do aplicativo será reduzido em ~3.8MB (20% do total) e o tempo médio de inicialização do aplicativo será reduzido em ~15ms (~8%) ([fonte](https://github.com/react-native-community/discussions-and-proposals/discussions/816)).

Por outro lado, esta é uma mudança incompatível tanto para desenvolvedores de aplicativos quanto para desenvolvedores de bibliotecas.

Desenvolvedores de aplicativos terão que atualizar o `onCreate` de sua Application da seguinte forma:

```diff
+import com.facebook.react.soloader.OpenSourceMergedSoMapping
import com.facebook.soloader.SoLoader

class MainApplication : Application(), ReactApplication {

  override fun onCreate() {
    super.onCreate()
+   SoLoader.init(this, OpenSourceMergedSoMapping)
-   SoLoader.init(this, false)
  }
}
```

Esta mudança é necessária para carregar corretamente libreactnative.so e está [incluída no upgrade-helper](https://react-native-community.github.io/upgrade-helper/).

Autores de bibliotecas não serão afetados por esta mudança, a menos que você tenha código C++ personalizado.

Para um mergulho técnico profundo nesta mudança e sugestões para autores de bibliotecas, você pode ler mais sobre isso [no post dedicado](https://github.com/react-native-community/discussions-and-proposals/discussions/816).

### Atualizações dos requisitos mínimos de SDK para iOS e Android

Atualizamos nossas versões mínimas de plataforma e SDK:

- iOS - de 13.4 para [15.1](https://support.apple.com/en-gb/108051#151)
- Android - de SDK 23 para [SDK 24](https://developer.android.com/tools/releases/platforms#7.0) (Android 7)

Esta mudança foi anunciada anteriormente no ano quando a versão 0.75 [foi lançada](/blog/2024/08/12/release-0.75#last-version-supporting-minsdk-23-and-miniosversion-134). Para mais contexto, consulte os posts dedicados para [Android](https://github.com/react-native-community/discussions-and-proposals/discussions/802) e [iOS](https://github.com/react-native-community/discussions-and-proposals/discussions/812).

### Outras Breaking Changes

- **Animation**
  - Parar de enviar atualizações de estado para o React em animação em loop. Isso estava causando re-renderizações desnecessárias com animações em loop.
- **devtools:**
  - Remover abas perf + network do Inspector Panel sob New Arch. ([RFC](https://github.com/react-native-community/discussions-and-proposals/blob/main/proposals/0777-remove-legacy-element-inspector-features.md))
- **text engine**
  - Sempre usar AttributedStringBox em vez de AttributedString no TextLayoutManager

#### Android

- **rendering:**
  - Fundos de View não são mais diretamente `ReactViewBackgroundDrawable` ou `CSSBackgroundDrawable`

#### iOS

- **turbomodule**
  - Removido o Macro `RCT_EXPORT_CXX_MODULE_EXPERIMENTAL` para autolinking de módulo Cxx puro.

## Agradecimentos

O React Native 0.76 contém mais de [1070 commits](https://github.com/facebook/react-native/compare/v0.75.4...v0.76.0) de 156 contribuidores. Obrigado por todo o seu trabalho árduo!

Agradecimentos a todos os autores adicionais que trabalharam na documentação de recursos neste post de lançamento:

- [Joe Vilches](https://github.com/joevilches) e [Nick Gerleman](https://github.com/NickGerleman) box-shadow e propriedades de estilo filter.
- [Alex Hunt](https://github.com/huntie) React Native DevTools.
- [Nicola Corti](https://github.com/cortinico) Android sendo lançado como uma única biblioteca.

## Atualize para 0.76

Por favor, use o [React Native Upgrade Helper](https://react-native-community.github.io/upgrade-helper/) para visualizar as mudanças de código entre as versões do React Native para projetos existentes, além da documentação de Atualização.

Se você usa Expo, o React Native 0.76 será suportado no Expo SDK 52.

Se você precisar criar um novo projeto usando o CLI, pode executar este comando:

```
npx @react-native-community/cli@latest init MyProject --version latest
```

:::info
0.76 agora é a versão estável mais recente do React Native e 0.73.x passa a não ter mais suporte. Para mais informações, consulte [a política de suporte do React Native](https://github.com/reactwg/react-native-releases/blob/main/docs/support.md). Pretendemos publicar uma atualização final de fim de vida da versão 0.73 em um futuro próximo.
:::
