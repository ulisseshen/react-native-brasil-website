---
ia-translated: true
title: '0.36: Headless JS, a API de Keyboard e mais'
authors: [hectorramos]
tags: [announcement]
---

Hoje estamos lançando o [React Native 0.36](https://github.com/facebook/react-native/releases/tag/v0.36.0). Continue lendo para saber mais sobre o que há de novo.

## Headless JS

Headless JS é uma maneira de executar tarefas em JavaScript enquanto seu aplicativo está em segundo plano. Pode ser usado, por exemplo, para sincronizar dados novos, lidar com notificações push ou tocar música. Está disponível apenas no Android, por enquanto.

Para começar, defina sua tarefa assíncrona em um arquivo dedicado (por exemplo, `SomeTaskName.js`):

```jsx
module.exports = async taskData => {
  // Perform your task here.
};
```

Em seguida, registre sua tarefa no `AppRegistry`:

```jsx
AppRegistry.registerHeadlessTask('SomeTaskName', () =>
  require('SomeTaskName'),
);
```

Usar Headless JS requer escrever algum código Java nativo para permitir que você inicie o serviço quando necessário. Dê uma olhada em nossa nova [documentação de Headless JS](/docs/headless-js-android) para saber mais!

## A API de Keyboard

Trabalhar com o teclado na tela agora é mais fácil com [`Keyboard`](/docs/keyboard). Agora você pode ouvir eventos nativos de teclado e reagir a eles. Por exemplo, para dispensar o teclado ativo, basta chamar `Keyboard.dismiss()`:

```js
import {Keyboard} from 'react-native';

// Hide that keyboard!
Keyboard.dismiss();
```

## Divisão Animada

Combinar dois valores animados através de adição, multiplicação e módulo já são suportados pelo React Native. Com a versão 0.36, combinar dois [valores animados através de divisão](/docs/animated#divide) agora é possível. Existem alguns casos em que um valor animado precisa inverter outro valor animado para cálculo. Um exemplo é inverter uma escala (2x --> 0.5x):

```
const a = Animated.Value(1);
const b = Animated.divide(1, a);

Animated.spring(a, {
  toValue: 2,
}).start();
```

`b` então seguirá a animação spring de `a` e produzirá o valor de `1 / a`.

O uso básico é assim:

```
<Animated.View style={{transform: [{scale: a}]}}>
  <Animated.Image style={{transform: [{scale: b}]}} />
<Animated.View>
```

Neste exemplo, a imagem interna não será esticada de forma alguma porque a escala do pai é cancelada. Se você quiser saber mais, confira o [guia de Animações](/docs/animations).

## Barras de Status Escuras

Um novo valor `barStyle` foi adicionado ao `StatusBar`: `dark-content`. Com esta adição, agora você pode usar [`barStyle`](/docs/statusbar#barstyle) tanto no Android quanto no iOS. O comportamento agora será o seguinte:

- `default`: Usa o padrão da plataforma (claro no iOS, escuro no Android).
- `light-content`: Usa uma barra de status clara com texto e ícones pretos.
- `dark-content`: Usa uma barra de status escura com texto e ícones brancos.

## ...e mais

O acima é apenas uma amostra do que mudou na 0.36. Confira as [notas de lançamento no GitHub](https://github.com/facebook/react-native/releases/tag/v0.36.0) para ver a lista completa de novos recursos, correções de bugs e mudanças que quebram compatibilidade.

Você pode atualizar para 0.36 executando os seguintes comandos em um terminal:

```bash
$ npm install --save react-native@0.36
$ react-native upgrade
```
