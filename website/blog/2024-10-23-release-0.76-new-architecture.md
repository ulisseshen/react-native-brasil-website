---
ia-translated: true
title: 'React Native 0.76 - New Architecture por padrão, React Native DevTools e mais'
authors: [blakef, cipolleschi, frankcalise, gabrieldonadel]
tags: [announcement, release]
date: 2024-10-23T16:00
---

Hoje estamos empolgados em lançar o React Native 0.76!

Este é um marco importante para o React Native, pois estamos habilitando a New Architecture por padrão, e estamos introduzindo o React Native DevTools. Esta é a culminação de 6 anos de trabalho árduo da nossa equipe, juntamente com o suporte da nossa incrível comunidade de desenvolvedores.

### Destaques

- [React Native New Architecture por padrão](/blog/2024/10/23/release-0.76-new-architecture#react-native-new-architecture-by-default)
- [React Native DevTools](/blog/2024/10/23/release-0.76-new-architecture#react-native-devtools)
- [Resolução mais rápida do Metro](#faster-metro-resolution)
- [Props de estilo Box Shadow e Filter](/blog/2024/10/23/release-0.76-new-architecture#box-shadow-and-filter-style-props)

### Mudanças Incompatíveis

- [Removida a dependência no react-native-community/cli](/blog/2024/10/23/release-0.76-new-architecture#removed-the-dependency-on-the-react-native-communitycli)
- [Aplicativos Android são ~3.8Mb menores graças à mesclagem de bibliotecas nativas](/blog/2024/10/23/release-0.76-new-architecture#android-apps-are-38mb-smaller-thanks-to-native-library-merging)
- [Atualizações nos requisitos mínimos de SDK do iOS e Android](/blog/2024/10/23/release-0.76-new-architecture#updates-to-minimum-ios-and-android-sdk-requirements)

<!--truncate-->

## Destaques

### React Native New Architecture por padrão

A partir do React Native 0.76, a New Architecture está habilitada por padrão em seus projetos. A New Architecture é uma reescrita dos componentes internos do React Native para permitir que desenvolvedores de aplicativos desenvolvam aplicações nativas de alta qualidade usando React.

Hoje, estamos empolgados em declarar a New Architecture pronta para uso em produção.

Esta mudança é um marco na evolução do React Native, e convidamos você a ler o post dedicado para entender o que está incluído na New Architecture e como ela moldará o futuro do React Native: [The New Architecture is Here][The New Architecture is Here].

### React Native DevTools

![React Native DevTools front-end](../static/blog/assets/0.76-react-native-devtools.jpg)

Estamos lançando a primeira versão estável do React Native DevTools, nossa nova experiência padrão de depuração.

Queremos que as ferramentas que você usa para depurar React em todas as plataformas sejam confiáveis, familiares, simples e coesas. React Native DevTools cumpre esses princípios — ferramentas de desenvolvedor alinhadas com o navegador que são profundamente integradas com React Native. Os principais recursos incluem:

- **Ferramentas familiares, alinhadas com a web** — Um debugger completo baseado no Chrome DevTools com breakpoints confiáveis, valores de observação, depuração passo a passo, inspeção de stack e um console JavaScript rico. Esses recursos principais agora funcionam de forma confiável e através de recargas.
- **React DevTools melhorado e integrado** — O inspetor de componentes React integrado e o Profiler funcionam perfeitamente, com destaque de componentes mais rápido e confiável.
- **UX melhorada** — Veja uma nova sobreposição _Paused in Debugger_, deixando claro quando seu aplicativo está pausado em um breakpoint. Avisos no LogBox agora são exibidos como um resumo e ocultados quando DevTools está anexado.
- **Comportamento de reconexão corrigido** — Breakpoints JavaScript agora funcionam de forma confiável através de recargas e quando DevTools é desconectado e reconectado. DevTools pode até reconectar ao mesmo aplicativo após uma reconstrução nativa.
- **Lançamento instantâneo** — React Native DevTools está pronto por padrão com zero configuração. Abra-o do menu Dev no aplicativo ou via <kbd>j</kbd> para depurar no servidor CLI, que agora suporta múltiplos emuladores e dispositivos.

React Native DevTools é fundamentalmente diferente das nossas opções de depuração anteriores, incluindo ser diferente da experiência do Experimental Debugger lançada pela primeira vez na versão 0.73. Ele muda para uma nova pilha de backend de depuração que reconstruímos ao longo do último ano. Isso significa que a compatibilidade com ferramentas anteriores [mudou][compatibility], e você também deve esperar uma experiência muito mais confiável de ponta a ponta. Pretendemos construir sobre essa nova pilha para nos permitir implementar de forma confiável mais recursos no futuro, como os painéis Performance e Network.

#### Eliminação gradual de logs no Metro

Em nosso próximo lançamento, estamos removendo logs encaminhados no Metro para alinhar com ferramentas modernas de navegador e remover integrações de depuração antigas. Em vez disso, use o painel Console completo do React Native DevTools para registro. Veja mais em nossas [FAQs][FAQs].

**Links**

- [Documentação de depuração atualizada][debugging-docs]
- [Palestra de anúncio na React Universe Conf][announcement-talk]
- [Thread de feedback e FAQs][feedback-thread]

### Resolução mais rápida do Metro

Enviamos várias melhorias de desempenho para o resolver do Metro, o componente responsável por encontrar um módulo a partir de um caminho de importação, tornando-o cerca de [15x mais rápido][metro-speed]. Isso melhora o desempenho geral do Metro, particularmente para builds quentes, que vimos cerca de 4x mais rápidos.

<div class="tweet">
    <iframe style={{ "border": "none" }} scrolling="no" width="550" height="870" data-tweet-url="https://twitter.com/MetroBundler/status/1831709057670861260" src="data:text/html;charset=utf-8,%3Cblockquote%20class%3D%22twitter-tweet%22%3E%3Cp%20lang%3D%22en%22%20dir%3D%22ltr%22%3EFaster%20resolution%2C%20faster%20builds%3Cbr%3E%3Cbr%3EYesterday%26%2339%3Bs%20Metro%20release%20included%20a%20bunch%20of%20performance%20improvements%20to%20our%20resolver%2C%20making%20it%20around%2015x%20faster.%20That%26%2339%3Bs%20especially%20good%20news%20for%20warm%20builds.%20%3Ca%20href%3D%22https%3A//t.co/huPD5CW5bu%22%3Epic.twitter.com/huPD5CW5bu%3C/a%3E%3C/p%3E%26mdash%3B%20Metro%20%28@MetroBundler%29%20%3Ca%20href%3D%22https%3A//twitter.com/MetroBundler/status/1831709057670861260%3Fref_src%3Dtwsrc%255Etfw%22%3ESeptember%205%2C%202024%3C/a%3E%3C/blockquote%3E%0A%3Cscript%20async%20src%3D%22https%3A//platform.twitter.com/widgets.js%22%20charset%3D%22utf-8%22%3E%3C/script%3E%0A%0A"></iframe>
</div>

### Props de estilo Box Shadow e Filter

Adicionamos duas props de estilo exclusivas da New Architecture na versão 0.76 - `boxShadow` e `filter`. Ambas essas props existem na web, e a equipe segue as especificações quando possível para que essas props sejam previsíveis, familiares e, em última análise, mais fáceis de adotar (veja as seções de limitações e desvios de especificação para as exceções).
Como resultado, você pode consultar a documentação web para entender completamente como elas funcionam, mas há algumas diferenças importantes que são observadas abaixo.

#### `boxShadow`

`boxShadow` adiciona uma sombra a um elemento, com a capacidade de controlar a posição, cor, tamanho e desfoque da sombra. Confira a [documentação MDN][mdn-boxshadow] para uma visão geral completa de cada um desses argumentos, juntamente com um fiddle para experimentá-los você mesmo. Abaixo estão alguns exemplos das sombras que você pode criar.

![New boxShadow style prop](../static/blog/assets/0.76-boxshadow-example.png)

`boxShadow` pode receber uma string, que imita a sintaxe CSS, ou objetos JS que podem incorporar variáveis. Por exemplo, a string `'5 5 5 0 rgba(255, 0, 0, 0.5)'` e o objeto `{offsetX: 5, offsetY: 5, blurRadius: 5, spreadDistance: 0, color: 'rgba(255, 0, 0, 0.5)'}` produziriam a mesma sombra de caixa.

A [funcionalidade de sombra anterior][shadow-props] tinha algumas deficiências agora abordadas pelo `boxShadow`:

- Não funciona no Android
- Não pode ser [inset][mdn-inset]
- Não tem [spread][mdn-spread]
- Não funciona em `View`s se não houver cor de fundo
- É uma prop separada, portanto não pode compartilhar a mesma sintaxe web

#### Limitações e Desvios de Especificação

- A cor de sombra padrão é preta, não a cor do pai
- Sombras normais do Android são suportadas no **Android 9+**
- Sombras inset do Android são suportadas no **Android 10+**

#### `filter`

`filter` adiciona certos filtros gráficos a um elemento. Há uma mistura de filtros de cor que permitem modificar coisas como brilho, saturação e matiz, bem como filtros não-coloridos que permitem adicionar desfoque e sombras. Confira a [documentação MDN][mdn-filter] para uma visão geral completa de cada função de filtro individual, juntamente com um fiddle para experimentá-las você mesmo. Abaixo está uma imagem de cachorro-quente com vários filtros aplicados a ela.

<figure>
    <img alt="Demonstração de filtros" src="/blog/assets/0.76-filter-example.png" />
    <figcaption>Da esquerda para a direita: sem filtro, filtro <code>saturate</code>, filtro <code>blur</code>, filtro <code>invert</code></figcaption>
</figure>

Como `boxShadow`, `filter` pode receber uma string, que imita a sintaxe CSS, ou um array de objetos JS que podem incorporar variáveis. Por exemplo, a string `'saturate(0.5) grayscale(0.25)'` e o array `[{saturate: 0.5}, {grayscale: 0.25}]` produziriam o mesmo filtro.
`filter` tem um valor `dropShadow` que varia ligeiramente de `boxShadow`. A maior diferença é que `dropShadow` é uma máscara alfa - então a sombra só será projetada por um pixel se ele tiver um componente alfa diferente de zero. `boxShadow`, por outro lado, projetará ao redor da caixa de borda do elemento, mesmo que não haja nada dentro dele. Além disso, dropShadow não tem um parâmetro de distância de spread e não pode ser inset (sombra projetada dentro do elemento).

#### Limitações e Desvios de Especificação

- `filter` do iOS suporta apenas brightness e opacity
- `filter` do iOS não se aplicará a sombras, contornos ou quaisquer outros elementos gráficos fora dos limites do elemento
- `blur` e `drop-shadow` do Android são suportados apenas no **Android 12+**
- `filter` implica `overflow: hidden`, portanto, filhos de um elemento com um `filter` serão cortados se estiverem posicionados fora dos limites dos pais.

## Mudanças Incompatíveis

### Removida a dependência no @react-native-community/cli

Como compartilhado anteriormente na versão 0.75, nossa visão é que o React Native seja [agnóstico de framework][framework-agnostic]. Portanto, concluímos o trabalho para remover @react-native-community/cli como uma dependência direta do React Native.

Desacoplar o React Native do CLI nos permite avançar mais rapidamente lançando esses projetos de forma independente e separar melhor as responsabilidades de ambos os projetos.

Se você está contando com o CLI em seu fluxo de trabalho diário, certifique-se de adicionar explicitamente [a dependência][add-dependency] no CLI em seu `package.json`:

```diff
//…
  "devDependencies": {
   // …
+  "@react-native-community/cli": "15.0.0",
+  "@react-native-community/cli-platform-android": "15.0.0",
+  "@react-native-community/cli-platform-ios": "15.0.0",
  },
```

### Aplicativos Android são ~3.8Mb menores graças à mesclagem de bibliotecas nativas

React Native 0.76 será enviado com um número reduzido de bibliotecas nativas, pois mesclamos muito do nosso código nativo em uma única biblioteca chamada `libreactnative.so`.

Esta mudança vem com redução no tamanho do aplicativo e melhoria no desempenho de inicialização do aplicativo no Android. De nossos benchmarks, descobrimos que o tamanho do aplicativo será reduzido em ~3.8MB (20% do total) e o tempo médio de inicialização do aplicativo será reduzido em ~15ms (~8%) ([fonte][native-library-merging]).

Por outro lado, esta é uma mudança incompatível tanto para desenvolvedores de aplicativos quanto para desenvolvedores de bibliotecas.

Desenvolvedores de aplicativos terão que atualizar o `onCreate` de sua Application da seguinte forma:

```diff
+import com.facebook.react.soloader.OpenSourceMergedSoMapping
import com.facebook.soloader.SoLoader

class MainApplication : Application(), ReactApplication {

  override fun onCreate() {
    super.onCreate()
+   SoLoader.init(this, OpenSourceMergedSoMapping)
-   SoLoader.init(this, false)
  }
}
```

Esta mudança é necessária para carregar corretamente libreactnative.so e está [incluída no upgrade-helper][upgrade-helper-1].

Autores de bibliotecas não serão afetados por esta mudança, a menos que você tenha código C++ personalizado.

Para uma análise técnica aprofundada desta mudança e sugestões para autores de bibliotecas, você pode ler mais sobre isso [no post dedicado][native-library-merging].

### Atualizações nos requisitos mínimos de SDK do iOS e Android

Atualizamos nossas versões mínimas de plataforma e SDK:

- iOS - de 13.4 para [15.1][ios-15-1]
- Android - de SDK 23 para [SDK 24][android-sdk-24] (Android 7)

Esta mudança foi anunciada anteriormente este ano quando a versão 0.75 [foi lançada][release-0-75]. Para mais contexto, por favor veja os posts dedicados para [Android][android-minsdk] e [iOS][ios-minversion].

### Outras Mudanças Incompatíveis

- **Animation**
  - Parar de enviar atualizações de state para React em animação em loop. Isso estava causando re-renderização desnecessária com animações em loop.
- **devtools:**
  - Remover abas perf + network do Inspector Panel na New Arch. ([RFC][rfc-remove-inspector])
- **text engine**
  - Sempre usar AttributedStringBox em vez de AttributedString no TextLayoutManager

#### Android

- **rendering:**
  - Fundos de View não são mais diretamente `ReactViewBackgroundDrawable` ou `CSSBackgroundDrawable`

#### iOS

- **turbomodule**
  - Removida a Macro `RCT_EXPORT_CXX_MODULE_EXPERIMENTAL` para autolinking de módulo Cxx puro.

## Agradecimentos

React Native 0.76 contém mais de [1070 commits][commits] de 156 contribuidores. Obrigado por todo o seu trabalho árduo!

Obrigado a todos os autores adicionais que trabalharam na documentação de recursos neste post de lançamento:

- [Joe Vilches][joevilches] e [Nick Gerleman][NickGerleman] box-shadow e filter style props.
- [Alex Hunt][huntie] React Native DevTools.
- [Nicola Corti][cortinico] Android shipping as a single library.

## Atualizar para 0.76

Por favor, use o [React Native Upgrade Helper][upgrade-helper-2] para visualizar mudanças de código entre versões do React Native para projetos existentes, além dos documentos de Upgrading.

Se você usa Expo, React Native 0.76 será suportado no Expo SDK 52.

Se você precisa criar um novo projeto usando o CLI, você pode executar este comando:

```
npx @react-native-community/cli@latest init MyProject --version latest
```

:::info
0.76 é agora a versão estável mais recente do React Native e 0.73.x passa para não suportado. Para mais informações veja [política de suporte do React Native][support-policy]. Nosso objetivo é publicar uma atualização final de fim de vida da versão 0.73 em um futuro próximo.
:::

[The New Architecture is Here]: /blog/2024/10/23/the-new-architecture-is-here
[compatibility]: https://github.com/react-native-community/discussions-and-proposals/discussions/819#:~:text=announcement%20talk%20%F0%9F%8E%AC.-,Compatibility,-React%20Native%20DevTools
[FAQs]: https://github.com/react-native-community/discussions-and-proposals/discussions/819#:~:text=point%20is%20deprecated.-,FAQs,-React%20Native%20DevTools
[debugging-docs]: /docs/debugging
[announcement-talk]: https://www.youtube.com/watch?v=OwivVpg6Luc
[feedback-thread]: https://github.com/react-native-community/discussions-and-proposals/discussions/819
[metro-speed]: https://x.com/MetroBundler/status/1831709057670861260
[mdn-boxshadow]: https://developer.mozilla.org/en-US/docs/Web/CSS/box-shadow
[shadow-props]: https://reactnative.dev/docs/shadow-props
[mdn-inset]: https://developer.mozilla.org/en-US/docs/Web/CSS/box-shadow#inset
[mdn-spread]: https://developer.mozilla.org/en-US/docs/Web/CSS/box-shadow#length
[mdn-filter]: https://developer.mozilla.org/en-US/docs/Web/CSS/filter
[framework-agnostic]: https://github.com/react-native-community/discussions-and-proposals/blob/main/proposals/0759-react-native-frameworks.md
[add-dependency]: https://react-native-community.github.io/upgrade-helper/?from=0.75.4&to=0.76.0#RnDiffApp-package.json
[native-library-merging]: https://github.com/react-native-community/discussions-and-proposals/discussions/816
[upgrade-helper-1]: https://react-native-community.github.io/upgrade-helper/
[ios-15-1]: https://support.apple.com/en-gb/108051#151
[android-sdk-24]: https://developer.android.com/tools/releases/platforms#7.0
[release-0-75]: /blog/2024/08/12/release-0.75#last-version-supporting-minsdk-23-and-miniosversion-134
[android-minsdk]: https://github.com/react-native-community/discussions-and-proposals/discussions/802
[ios-minversion]: https://github.com/react-native-community/discussions-and-proposals/discussions/812
[rfc-remove-inspector]: https://github.com/react-native-community/discussions-and-proposals/blob/main/proposals/0777-remove-legacy-element-inspector-features.md
[commits]: https://github.com/facebook/react-native/compare/v0.75.4...v0.76.0
[joevilches]: https://github.com/joevilches
[NickGerleman]: https://github.com/NickGerleman
[huntie]: https://github.com/huntie
[cortinico]: https://github.com/cortinico
[upgrade-helper-2]: https://react-native-community.github.io/upgrade-helper/
[support-policy]: https://github.com/reactwg/react-native-releases/blob/main/docs/support.md
