---
ia-translated: true
title: Anunciando React Native 0.63 com LogBox
authors: [grabbou]
tags: [announcement, release]
---

Hoje estamos lançando o React Native 0.63 que vem com o LogBox ativado por padrão.

## LogBox

Recebemos feedback frequente da comunidade de que erros e avisos são difíceis de depurar no React Native. Para resolver esses problemas, analisamos todo o sistema de erros, avisos e logs no React Native e o redesenhamos [do zero](https://www.youtube.com/watch?v=Y8brBH5O-bQ&feature=youtu.be).

![Screenshot of LogBox](/blog/assets/0.63-logbox.png)

LogBox é uma redbox, yellowbox e experiência de logging completamente redesenhadas no React Native. Na versão 0.62, introduzimos o LogBox como opt-in. Neste lançamento, estamos tornando o LogBox a experiência padrão em todo o React Native.

O LogBox resolve reclamações de que erros e avisos eram muito verbosos, mal formatados ou não acionáveis, focando em três objetivos principais:

- **Conciso**: Os logs devem fornecer a quantidade mínima de informações necessárias para depurar um problema.
- **Formatado**: Os logs devem ser formatados para que você possa encontrar rapidamente as informações de que precisa.
- **Acionável**: Os logs devem ser acionáveis, para que você possa corrigir o problema e seguir em frente.

Para atingir esses objetivos, o LogBox inclui:

- **Notificações de log**: Redesenhamos as notificações de aviso e adicionamos suporte para erros, de modo que todas as mensagens console.warn e console.log apareçam como notificações em vez de cobrir seu aplicativo.
- **Code Frames**: Cada erro e aviso agora inclui um code frame que mostra o código-fonte do log diretamente dentro do aplicativo, permitindo que você identifique rapidamente a origem do problema.
- **Component Stacks**: Todas as component stacks agora são removidas das mensagens de erro e colocadas em sua própria seção com os três primeiros frames visíveis. Isso lhe dá um espaço único e consistente para esperar informações de stack frame que não sobrecarregam a mensagem de log.
- **Stack Frame Collapsing**: Por padrão, agora recolhemos os stack frames de chamada não relacionados ao código do seu aplicativo para que você possa ver rapidamente o problema no seu aplicativo e não precise vasculhar os internos do React Native.
- **Formatação de Erros de Sintaxe**: Melhoramos a formatação para erros de sintaxe e adicionamos codeframes com syntax highlighting para que você possa ver a origem do erro, corrigi-lo e continuar codificando sem que o React Native atrapalhe.

Agrupamos todos esses recursos em um design visual aprimorado que é consistente entre erros e avisos e permite paginar por todos os logs em uma UI agradável.

Com essa mudança, também estamos descontinuando o YellowBox em favor das APIs do LogBox:

- `LogBox.ignoreLogs()`: Esta função substitui `YellowBox.ignoreLogs([])` como uma forma de silenciar quaisquer logs que correspondam às strings ou regexes fornecidas.
- `LogBox.ignoreAllLogs()`: Esta função substitui `console.disableYellowBox` como uma forma de desativar notificações de erro ou aviso. Nota: isso desativa apenas as notificações, erros não capturados ainda abrirão um LogBox em tela cheia.

Na versão 0.63, avisaremos ao usar esses módulos ou métodos descontinuados. Por favor, atualize seus pontos de chamada para fora dessas APIs antes que sejam removidos na versão 0.64.

Para mais informações sobre LogBox e depuração do react native, consulte a documentação [aqui](https://reactnative.dev/docs/debugging#in-app-errors-and-warnings).

## Pressable

O React Native foi construído para permitir que os aplicativos atendam às expectativas dos usuários da plataforma. Isso inclui evitar "indícios"—pequenas coisas que revelam que a experiência foi construída com React Native. Uma grande fonte desses indícios tem sido os componentes Touchable: `Button`, `TouchableWithoutFeedback`, `TouchableHighlight`, `TouchableOpacity`, `TouchableNativeFeedback` e `TouchableBounce`. Esses componentes tornam seu aplicativo interativo, permitindo que você forneça feedback visual para interações do usuário. No entanto, como eles incluem estilos e efeitos integrados que não correspondem à interação da plataforma, os usuários podem perceber quando as experiências são escritas com React Native.

Além disso, à medida que o React Native cresceu e nossa exigência por aplicativos de alta qualidade aumentou, esses componentes não cresceram com ele. O React Native agora suporta plataformas como Web, Desktop e TV, mas o suporte para modalidades de entrada adicionais tem sido insuficiente. O React Native precisa suportar experiências de interação de alta qualidade em todas as plataformas.

Para resolver esses problemas, estamos lançando um novo componente principal chamado `Pressable`. Este componente pode ser usado para detectar vários tipos de interações. A API foi projetada para fornecer acesso direto ao estado atual da interação sem ter que manter o estado manualmente em um componente pai. Também foi projetada para permitir que as plataformas estendam suas capacidades para incluir hover, blur, focus e muito mais. Esperamos que a maioria das pessoas construa e compartilhe componentes utilizando `Pressable` internamente, em vez de confiar na experiência padrão de algo como `TouchableOpacity`.

```jsx
import {Pressable, Text} from 'react-native';

<Pressable
  onPress={() => {
    console.log('pressed');
  }}
  style={({pressed}) => ({
    backgroundColor: pressed ? 'lightskyblue' : 'white',
  })}>
  <Text style={styles.text}>Press Me!</Text>
</Pressable>;
```

<p className="snippet-caption">Um exemplo simples de um componente Pressable em ação</p>

Você pode aprender mais sobre isso na [documentação](https://reactnative.dev/docs/pressable).

## Native Colors (PlatformColor, DynamicColorIOS)

Toda plataforma nativa tem o conceito de cores definidas pelo sistema. Cores que respondem automaticamente às configurações de tema do sistema, como modo Light ou Dark, configurações de acessibilidade, como modo High Contrast, e até mesmo seu contexto dentro do aplicativo, como as características de uma view ou window contêiner.

Embora seja possível detectar algumas dessas configurações por meio da API [`Appearance`](https://reactnative.dev/docs/appearance#getcolorscheme) e/ou [`AccessibilityInfo`](https://reactnative.dev/docs/accessibilityinfo#isgrayscaleenabled) e definir seus estilos de acordo, tais abstrações não são apenas custosas de desenvolver, mas estão aproximando a aparência das cores nativas. Essas inconsistências são particularmente perceptíveis ao trabalhar em um aplicativo híbrido, onde elementos React Native coexistem ao lado dos nativos.

O React Native agora fornece uma solução pronta para usar essas cores do sistema. `PlatformColor()` é uma nova API que pode ser usada como qualquer outra cor no React Native.

Por exemplo, no iOS, o [sistema fornece uma cor chamada `labelColor`](https://developer.apple.com/documentation/uikit/uicolor/ui_element_colors?language=objc). Isso pode ser usado no React Native com `PlatformColor` assim:

```jsx
import {Text, PlatformColor} from 'react-native';

<Text style={{color: PlatformColor('labelColor')}}>
  This is a label
</Text>;
```

<p className="snippet-caption">Define a cor do componente Text para labelColor conforme definido pelo iOS.</p>

Android, por outro lado, [fornece cores como colorButtonNormal](https://developer.android.com/reference/android/R.attr#colorButtonNormal). Você pode usar essa cor no React Native com:

```jsx
import {View, Text, PlatformColor} from 'react-native';

<View
  style={{
    backgroundColor: PlatformColor('?attr/colorButtonNormal'),
  }}>
  <Text>This is colored like a button!</Text>
</View>;
```

<p className="snippet-caption">Define a cor de fundo do componente View para colorButtonNormal conforme definido pelo Android.</p>

Você pode aprender mais sobre `PlatformColor` na [documentação](https://reactnative.dev/docs/platformcolor). Você também pode conferir os [exemplos de código presentes no RNTester](https://github.com/facebook/react-native/blob/master/packages/rn-tester/js/examples/PlatformColor/PlatformColorExample.js).

`DynamicColorIOS` é uma API exclusiva do iOS que permite definir qual cor usar no modo light e dark. Semelhante ao `PlatformColor`, isso pode ser usado em qualquer lugar onde você possa usar cores. `DynamicColorIOS` usa o `colorWithDynamicProvider` do iOS internamente.

```jsx
import {Text, DynamicColorIOS} from 'react-native';

const customDynamicTextColor = DynamicColorIOS({
  dark: 'lightskyblue',
  light: 'midnightblue',
});

<Text style={{color: customDynamicTextColor}}>
  This color changes automatically based on the system theme!
</Text>;
```

<p className="snippet-caption">Muda a cor do texto com base no tema do sistema</p>

Você pode aprender mais sobre `DynamicColorIOS` na [documentação](https://reactnative.dev/docs/dynamiccolorios).

## Descontinuação do suporte ao iOS 9 e Node.js 8

Depois de mais de quatro anos desde seu lançamento, estamos descontinuando o suporte para iOS 9. Essa mudança nos permitirá avançar mais rapidamente, podendo reduzir o número de verificações de compatibilidade que precisam ser colocadas no código nativo para detectar se um determinado recurso era suportado em uma determinada versão do iOS. Com sua [participação de mercado de 1%](https://david-smith.org/iosversionstats/), não deve ter muito impacto negativo nos seus clientes.

Ao mesmo tempo, estamos descontinuando o suporte para Node 8. [Seu ciclo de manutenção LTS expirou em dezembro de 2019](https://nodejs.org/fr/blog/release/v8.9.0/). A LTS atual é o Node 10 e agora é a versão que estamos almejando. Se você ainda está usando Node 8 para o desenvolvimento de aplicativos React Native, incentivamos você a atualizar para receber todas as correções de segurança e atualizações mais recentes.

## Outras melhorias notáveis

- **Suporte para renderizar `<View />` em `<Text />` sem tamanho explícito**: Agora você pode renderizar qualquer `<View />` dentro de qualquer componente `<Text />` sem definir sua largura e altura explicitamente, o que nem sempre era possível. Em versões anteriores do React Native, isso resultaria em um RedBox.
- **Mudança da LaunchScreen do iOS de `xib` para `storyboard`**: A partir de 30 de abril de 2020, todos os aplicativos enviados à App Store devem usar um storyboard do Xcode para fornecer a tela de inicialização do aplicativo e todos os aplicativos iPhone devem suportar todas as telas de iPhone. Este commit ajusta o template padrão do React Native para ser compatível com este requisito.

## Agradecimentos

Obrigado às centenas de contribuidores que ajudaram a tornar o 0.63 possível!

:::note
Agradecimentos especiais a [Rick Hanlon](https://twitter.com/rickhanlonii) por escrever a seção sobre `LogBox` e [Eli White](https://twitter.com/Eli_White) por escrever a parte sobre `Pressable` deste artigo.
:::

Para ver todas as atualizações, consulte o [changelog do 0.63](https://github.com/facebook/react-native/blob/main/CHANGELOG.md#v0630).
